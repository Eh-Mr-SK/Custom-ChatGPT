<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChatGPT</title>
</head>
<body>
  <script>
    class ChatbotWidget {
      constructor() {
        this.widget = document.createElement("div");
        this.widget.innerHTML =
          '<button id="toggle-chatbot" style="position: absolute; bottom: 0; right: 0; margin-right: 30px; margin-bottom: 10px; z-index: 1; background-color: blue; border-radius: 5px; color: white; padding: 10px 15px; font-size: 14px;">Message Bot</button>' +
          '<div id="chatbot-container" style="position: absolute; bottom: 0; right: 0; padding-bottom: 59px;padding-right: 70px;  display: none; z-index: 0; "></div>';
        this.button = this.widget.querySelector("#toggle-chatbot");
        this.container = this.widget.querySelector("#chatbot-container");
        this.visible = false;

        this.button.addEventListener("click", this.toggle.bind(this));
      }

      toggle() {
        if (!this.visible) {
          this.container.innerHTML =
            '<iframe src="http://localhost:3006/" width="370" height="460"  allow="microphone" ></iframe>';
          this.container.style.display = "block";
          this.visible = true;
        } else {
          this.container.innerHTML = '';
          this.container.style.display = "none";
          this.visible = false;
        }
      }
    }

    const chatbotWidget = new ChatbotWidget();
    document.body.appendChild(chatbotWidget.widget);

  </script>
</body>
</html>